################################################################################
# Autogenerated by build_tools/bazel_to_cmake/bazel_to_cmake.py from           #
# ../CompilerGym/compiler_gym/envs/mlir/service/passes/BUILD                   #
#                                                                              #
# Use cmake_cmake_extra_content from iree/build_defs.oss.bzl to add arbitrary   #
# CMake-only content.                                                          #
#                                                                              #
# To disable autogeneration for this file entirely, delete this header.        #
################################################################################

cmake_add_all_subdirs()

cmake_genrule(
  OUTS "passes_list.csv"
  COMMAND
    "extract_passes_from_llvm_source_tree @llvm//10.0.0:llvm_readme > $@"
  DEPENDS
    @llvm//10.0.0:llvm_src
    @llvm//10.0.0:llvm_readme
    ::extract_passes_from_llvm_source_tree
)
cmake_genrule(
  OUTS "actions.csv"
  COMMAND
  "filter_action_space passes_list.csv > $@"
  DEPENDS
    ::llvm_passes_list
    ::filter_action_space
)

cmake_py_library(
  NAME
    common
  SRCS
    "common.py"
  PUBLIC
)

cmake_py_library(
  NAME
    config
  SRCS
    "config.py"
  DEPS
    ::common
  PUBLIC
)

cmake_py_binary(
  NAME
    extract_passes_from_llvm_source_tree
  SRCS
    "extract_passes_from_llvm_source_tree.py"
  DEPS
    ::common
    ::config
)

cmake_py_binary(
  NAME
    make_action_space_genfiles
  SRCS
    "make_action_space_genfiles.py"
  DEPS
    ::common
    ::config
)

cmake_py_binary(
  NAME
    filter_action_space
  SRCS
    "filter_action_space.py"
  DEPS
    ::common
    ::config
)

cmake_genrule(
  OUTS
    "ActionEnum.h"
    "ActionSwitch.h"
    "ActionHeaders.h"
    "actions_list.txt"
    "actions_flags.txt"
    "actions_descriptions.txt"
  COMMAND
    "filter_action_space passes_list.csv > $@"
  DEPENDS
    ::llvm_actions_csv
)

### BAZEL_TO_CMAKE_PRESERVES_ALL_CONTENT_BELOW_THIS_LINE ###
